<!DOCTYPE html>
<html>
  <head>
    <title>Tetris Customization</title>
    <style>
      /* CSS styles for the page */
      body {
        background-color: #f2f2f2;
        font-family: Arial, sans-serif;
      }
      #container {
        margin: 0 auto;
        width: 80%;
      }
      h1 {
        text-align: center;
      }
      #customize-form {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin: 20px 0;
        padding: 20px;
      }
      label {
        display: block;
        margin-bottom: 10px;
        font-weight: bold;
      }
      select {
        margin-bottom: 20px;
      }
      .block-input {
        display: none;
      }

      .color-input-container {
  display: inline-block;
  margin-right: 20px;
  vertical-align: middle;
}

.color-input-container label {
  display: inline-block;
  margin-right: 5px;
  vertical-align: middle;
}
    </style>
  </head>
  <body>
    <h1>Tetris Customization</h1>
    <label for="useDefaults">Use Defaults:</label>
        <input type="checkbox" id="useDefaults" name="useDefaults" checked>

    <div id="container">
      <form>        
        <div class="color-input-container" style="display: block;">
          <label for="background-color-input">Background Color:</label>
          <input type="color" id="background-color-input" name="background-color" value="#808080">
          <br><br><br>
        </div>
      
        <div class="color-input-container" style="display: block;">
          <label for="game-screen-color-input">Game Screen Color:</label>
          <input type="color" id="game-screen-color-input" name="game-screen-color" value="#000000">
          <br><br><br>
        </div>

        <button type="button" onclick="toggleBlockColors()">Edit Blocks</button><br><br>

        <div class="block-colors" style="display:none;">

          <div class="color-input-container" style="display: block;">
            <label for="I_Block">I Block Color:</label>
            <input type="color" id="I_Block" name="I_Block" value="#00ffff"><br><br><br>
          </div>

          <div class="color-input-container" style="display: block;">
            <label for="O_Block">O Block Color:</label>
            <input type="color" id="O_Block" name="O_Block" value="#ffff00"><br><br><br>
          </div>
    
          <div class="color-input-container" style="display: block;">
            <label for="T_Block">T Block Color:</label>
            <input type="color" id="T_Block" name="T_Block" value="#800080"><br><br><br>
          </div>
    
          <div class="color-input-container" style="display: block;">
            <label for="S_Block">S Block Color:</label>
            <input type="color" id="S_Block" name="S_Block" value="#008000"><br><br><br>
          </div>
    
          <div class="color-input-container" style="display: block;">
            <label for="Z_Block">Z Block Color:</label>
            <input type="color" id="Z_Block" name="Z_Block" value="#ff0000"><br><br><br>
          </div>
    
          <div class="color-input-container" style="display: block;">
            <label for="J_Block">J Block Color:</label>
            <input type="color" id="J_Block" name="J_Block" value="#0000ff"><br><br><br>
          </div>
    
          <div class="color-input-container" style="display: block;">
            <label for="L_Block">L Block Color:</label>
            <input type="color" id="L_Block" name="L_Block" value="#ffa500"><br><br><br>
          </div>
        </div>
        <br>
  
        <input type="submit" value="Update Colors">
      </form>
    </div>
    <script>
      function toggleBlockColors() {
    var blockColorsDiv = document.querySelector(".block-colors");
    if (blockColorsDiv.style.display === "none") {
      blockColorsDiv.style.display = "block";
    } else {
      blockColorsDiv.style.display = "none";
    }
  }


  const useDefaultsToggle = document.getElementById('useDefaults');
const blockColorInputs2 = document.querySelectorAll('input[type="color"]');

// Update other color inputs when the "Use Defaults" toggle is changed
useDefaultsToggle.addEventListener('change', () => {
  
  localStorage.setItem('useDefaults', useDefaultsToggle.checked);
  
  if (useDefaultsToggle.checked) {
    blockColorInputs2.forEach(input => {
      input.value = input.defaultValue; // Reset the input to its default value
    });
  }
});

// Update the "Use Defaults" toggle when any block color input is changed
blockColorInputs2.forEach(input => {
  input.addEventListener('change', () => {

    useDefaultsToggle.checked = false; // Uncheck the "Use Defaults" toggle
    localStorage.setItem('useDefaults', useDefaultsToggle.checked);
  });
});

const form = document.querySelector('form');

// Listen for form submit event
form.addEventListener('submit', (event) => {
  event.preventDefault();

  // Get color inputs and their values
  const backgroundColor = document.querySelector('#background-color-input').value;
  const gameScreenColor = document.querySelector('#game-screen-color-input').value;
  const I_BlockColor = document.querySelector('#I_Block').value;
  const O_BlockColor = document.querySelector('#O_Block').value;
  const T_BlockColor = document.querySelector('#T_Block').value;
  const S_BlockColor = document.querySelector('#S_Block').value;
  const Z_BlockColor = document.querySelector('#Z_Block').value;
  const J_BlockColor = document.querySelector('#J_Block').value;
  const L_BlockColor = document.querySelector('#L_Block').value;

  // Create variables and an object with the color values
  const background = backgroundColor
  const gameScreen = gameScreenColor
  const colors = {
    I: I_BlockColor,
    O: O_BlockColor,
    T: T_BlockColor,
    S: S_BlockColor,
    Z: Z_BlockColor,
    J: J_BlockColor,
    L: L_BlockColor
  };

  // Convert object to string and save to local storage
  const colorsString = JSON.stringify(colors);
  localStorage.setItem('blockColors', colorsString);
  const backgroundString = JSON.stringify(backgroundColor);
  localStorage.setItem('backgroundColor', backgroundString);
  const gameScreenString = JSON.stringify(gameScreenColor);
  localStorage.setItem('gameScreenColor', gameScreenString);

});


</script>
  </body>
</html>


         
